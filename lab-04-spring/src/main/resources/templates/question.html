<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Question</title>
    <link th:href="@{/styles/input.css}" rel="stylesheet" />
    <link th:href="@{/styles/submit_button.css}" rel="stylesheet" />
    <link th:href="@{/styles/like.css}" rel="stylesheet" />
    <script type="text/javascript" th:src="@{/js/like.js}"></script>
</head>
<body>
    <h1>Question:</h1>
    <h2 th:text="${question.text}" />
    <h1>Answer:</h1>
    <h2 th:text="${question.answer} ?: 'No answer yet'"/>

    <div sec:authorize="hasRole('ADMIN')">
            <form method="post" th:object="${question}" th:action="@{/questions/{id}/provideAnswer(id=${question.id})}">
                <div class="col-3">
                    <input class="effect-8" th:field="*{answer}" type="text" th:placeholder="${question.answer}" required>
                    <span class="focus-border"><i></i></span>
                </div>
                <button class="submit_button" type="submit">Edit Answer</button>
            </form>
    </div>


    <h1>Comments:</h1>
    <ul th:each="comment : ${question.comments}">
        <li>
            <p th:text="${comment.text}" />
            <div class='like likediv'>
                <button class="like-toggle basic like_b">üëç</button>
                <span class='hidden' th:text="|${comment.likesCount} likes|" />
            </div>
            <div class='like likediv'>
                <button class="like-toggle basic dislike_b">üëé</button>  <!-- ADD EVENTS -->
                <span class='hidden' th:text="|${comment.dislikesCount} dislikes|" />
            </div>
        </li>
    </ul>

    <form method="post" th:object="${newComment}" th:action="@{/questions/{id}/addComment(id=${question.id})}">
        <div class="col-3">
            <input class="effect-8" th:field="*{text}" type="text" placeholder="Enter comment" name="comment_input" required>
            <span class="focus-border"><i></i></span>
        </div>
        <button class="submit_button" type="submit">Create comment</button>
    </form>
</body>
</html>